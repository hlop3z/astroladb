# Migration Examples

Example migration files demonstrating every operation in the AstrolaDB migration DSL.

## Migrations

| File | Operations |
|---|---|
| `001_initial_schema.js` | `create_table` (all column types, relationships, junction tables), `create_index` (regular, unique, composite), `soft_delete`, `sortable`, `timestamps` |
| `002_add_user_fields.js` | `add_column`, `drop_column`, `rename_column`, `create_index`, `drop_index` |
| `003_constraints_and_alter.js` | `alter_column` (set_type, set_nullable, set_not_null, set_default, drop_default), `add_foreign_key`, `drop_foreign_key`, `add_check`, `drop_check`, `sql` |
| `004_rename_and_drop_table.js` | `rename_table`, `drop_table`, `create_table` |

## Notes

- Migrations `003` and `004` use operations that are **PostgreSQL / CockroachDB only** (alter_column, foreign keys, check constraints).
- Every migration includes both `up()` and `down()` â€” the down function reverses operations in the opposite order.
- These files are meant as a reference. Real migrations are auto-generated by `alab new <name>`.
